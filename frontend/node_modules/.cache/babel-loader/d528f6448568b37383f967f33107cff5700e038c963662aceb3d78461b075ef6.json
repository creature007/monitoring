{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"statistics\"\n};\nconst _hoisted_2 = {\n  class: \"stats-overview\"\n};\nconst _hoisted_3 = {\n  class: \"stat-content\"\n};\nconst _hoisted_4 = {\n  class: \"stat-value\"\n};\nconst _hoisted_5 = {\n  class: \"stat-content\"\n};\nconst _hoisted_6 = {\n  class: \"stat-value\"\n};\nconst _hoisted_7 = {\n  class: \"stat-percentage\"\n};\nconst _hoisted_8 = {\n  class: \"stat-content\"\n};\nconst _hoisted_9 = {\n  class: \"stat-value\"\n};\nconst _hoisted_10 = {\n  class: \"stat-percentage\"\n};\nconst _hoisted_11 = {\n  class: \"activity-list\"\n};\nconst _hoisted_12 = {\n  class: \"activity-info\"\n};\nconst _hoisted_13 = {\n  class: \"activity-device\"\n};\nconst _hoisted_14 = {\n  class: \"activity-time\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Card = _resolveComponent(\"Card\");\n  const _component_Chart = _resolveComponent(\"Chart\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createElementVNode(\"h1\", null, \"Umumiy statistika\", -1)), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Card, {\n    class: \"stats-card total\"\n  }, {\n    title: _withCtx(() => _cache[0] || (_cache[0] = [_createElementVNode(\"div\", {\n      class: \"card-title\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-mobile\"\n    }), _createTextVNode(\" Jami qurilmalar \")], -1)])),\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, _toDisplayString($setup.statistics?.total_devices || 0), 1)])]),\n    _: 1\n  }), _createVNode(_component_Card, {\n    class: \"stats-card online\"\n  }, {\n    title: _withCtx(() => _cache[1] || (_cache[1] = [_createElementVNode(\"div\", {\n      class: \"card-title\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-check-circle\"\n    }), _createTextVNode(\" Online qurilmalar \")], -1)])),\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, _toDisplayString($setup.statistics?.online_devices || 0), 1), _createElementVNode(\"div\", _hoisted_7, _toDisplayString($setup.statistics?.online_percentage || 0) + \"%\", 1)])]),\n    _: 1\n  }), _createVNode(_component_Card, {\n    class: \"stats-card offline\"\n  }, {\n    title: _withCtx(() => _cache[2] || (_cache[2] = [_createElementVNode(\"div\", {\n      class: \"card-title\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-times-circle\"\n    }), _createTextVNode(\" Offline qurilmalar \")], -1)])),\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, _toDisplayString($setup.statistics?.offline_devices || 0), 1), _createElementVNode(\"div\", _hoisted_10, _toDisplayString(100 - ($setup.statistics?.online_percentage || 0)) + \"%\", 1)])]),\n    _: 1\n  })]), _createVNode(_component_Card, {\n    class: \"chart-card\"\n  }, {\n    title: _withCtx(() => _cache[3] || (_cache[3] = [_createElementVNode(\"div\", {\n      class: \"card-title\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-chart-pie\"\n    }), _createTextVNode(\" Qurilmalar holati \")], -1)])),\n    content: _withCtx(() => [_createVNode(_component_Chart, {\n      type: \"doughnut\",\n      data: $setup.chartData,\n      options: $setup.chartOptions,\n      style: {\n        \"height\": \"300px\"\n      }\n    }, null, 8, [\"data\", \"options\"])]),\n    _: 1\n  }), _createVNode(_component_Card, {\n    class: \"activity-card\"\n  }, {\n    title: _withCtx(() => _cache[4] || (_cache[4] = [_createElementVNode(\"div\", {\n      class: \"card-title\"\n    }, [_createElementVNode(\"i\", {\n      class: \"pi pi-clock\"\n    }), _createTextVNode(\" Oxirgi faoliyat \")], -1)])),\n    content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.statistics?.recent_activity, (activity, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"activity-item\"\n      }, [_cache[5] || (_cache[5] = _createElementVNode(\"i\", {\n        class: \"pi pi-mobile\"\n      }, null, -1)), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, _toDisplayString(activity.device), 1), _createElementVNode(\"div\", _hoisted_14, _toDisplayString(activity.last_seen), 1)])]);\n    }), 128))])]),\n    _: 1\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_Card","title","_withCtx","_cache","content","_hoisted_3","_hoisted_4","_toDisplayString","$setup","statistics","total_devices","_hoisted_5","_hoisted_6","online_devices","_hoisted_7","online_percentage","_hoisted_8","_hoisted_9","offline_devices","_hoisted_10","_component_Chart","type","data","chartData","options","chartOptions","style","_hoisted_11","_Fragment","_renderList","recent_activity","activity","index","key","_hoisted_12","_hoisted_13","device","_hoisted_14","last_seen"],"sources":["C:\\Users\\user\\Desktop\\dastur\\hp\\monitoring\\frontend\\src\\views\\Statistics.vue"],"sourcesContent":["<template>\r\n  <div class=\"statistics\">\r\n    <h1>Umumiy statistika</h1>\r\n\r\n    <!-- Statistika kartlari -->\r\n    <div class=\"stats-overview\">\r\n      <Card class=\"stats-card total\">\r\n        <template #title>\r\n          <div class=\"card-title\">\r\n            <i class=\"pi pi-mobile\"></i>\r\n            Jami qurilmalar\r\n          </div>\r\n        </template>\r\n        <template #content>\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-value\">{{ statistics?.total_devices || 0 }}</div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"stats-card online\">\r\n        <template #title>\r\n          <div class=\"card-title\">\r\n            <i class=\"pi pi-check-circle\"></i>\r\n            Online qurilmalar\r\n          </div>\r\n        </template>\r\n        <template #content>\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-value\">{{ statistics?.online_devices || 0 }}</div>\r\n            <div class=\"stat-percentage\">{{ statistics?.online_percentage || 0 }}%</div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n\r\n      <Card class=\"stats-card offline\">\r\n        <template #title>\r\n          <div class=\"card-title\">\r\n            <i class=\"pi pi-times-circle\"></i>\r\n            Offline qurilmalar\r\n          </div>\r\n        </template>\r\n        <template #content>\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-value\">{{ statistics?.offline_devices || 0 }}</div>\r\n            <div class=\"stat-percentage\">{{ 100 - (statistics?.online_percentage || 0) }}%</div>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n    </div>\r\n\r\n    <!-- Donut diagramma -->\r\n    <Card class=\"chart-card\">\r\n      <template #title>\r\n        <div class=\"card-title\">\r\n          <i class=\"pi pi-chart-pie\"></i>\r\n          Qurilmalar holati\r\n        </div>\r\n      </template>\r\n      <template #content>\r\n        <Chart type=\"doughnut\" :data=\"chartData\" :options=\"chartOptions\" style=\"height: 300px\" />\r\n      </template>\r\n    </Card>\r\n\r\n    <!-- Oxirgi faoliyat -->\r\n    <Card class=\"activity-card\">\r\n      <template #title>\r\n        <div class=\"card-title\">\r\n          <i class=\"pi pi-clock\"></i>\r\n          Oxirgi faoliyat\r\n        </div>\r\n      </template>\r\n      <template #content>\r\n        <div class=\"activity-list\">\r\n          <div v-for=\"(activity, index) in statistics?.recent_activity\" :key=\"index\" class=\"activity-item\">\r\n            <i class=\"pi pi-mobile\"></i>\r\n            <div class=\"activity-info\">\r\n              <div class=\"activity-device\">{{ activity.device }}</div>\r\n              <div class=\"activity-time\">{{ activity.last_seen }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </Card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Statistics',\r\n  setup() {\r\n    const store = useStore()\r\n    const statistics = computed(() => store.state.statistics)\r\n\r\n    const chartData = computed(() => ({\r\n      labels: ['Online', 'Offline'],\r\n      datasets: [\r\n        {\r\n          data: [\r\n            statistics.value?.online_devices || 0,\r\n            statistics.value?.offline_devices || 0\r\n          ],\r\n          backgroundColor: ['#4caf50', '#f44336'],\r\n          hoverBackgroundColor: ['#66bb6a', '#ef5350']\r\n        }\r\n      ]\r\n    }))\r\n\r\n    const chartOptions = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      cutout: '60%',\r\n      plugins: {\r\n        legend: {\r\n          position: 'bottom'\r\n        }\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      store.dispatch('fetchStatistics')\r\n    })\r\n\r\n    return {\r\n      statistics,\r\n      chartData,\r\n      chartOptions\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.statistics {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\nh1 {\r\n  color: var(--text-primary);\r\n  font-size: 1.75rem;\r\n  margin: 0 0 1rem;\r\n}\r\n\r\n.stats-overview {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 1.5rem;\r\n}\r\n\r\n.stats-card {\r\n  background: var(--card-bg) !important;\r\n  border-radius: 1rem;\r\n  transition: transform 0.3s, box-shadow 0.3s;\r\n  overflow: hidden;\r\n}\r\n\r\n.stats-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 16px rgba(0,0,0,0.2);\r\n}\r\n\r\n.stats-card :deep(.p-card-content) {\r\n  padding: 1.5rem;\r\n}\r\n\r\n.card-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  font-size: 1.1rem;\r\n  color: var(--text-primary);\r\n  padding: 1rem 1.5rem;\r\n  background: rgba(255,255,255,0.05);\r\n  margin: -1rem -1.5rem 1rem;\r\n}\r\n\r\n.card-title i {\r\n  font-size: 1.25rem;\r\n  opacity: 0.9;\r\n}\r\n\r\n.stat-content {\r\n  text-align: center;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 3rem;\r\n  font-weight: bold;\r\n  line-height: 1.2;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.stat-percentage {\r\n  font-size: 1.25rem;\r\n  color: var(--text-secondary);\r\n  padding: 0.25rem 1rem;\r\n  background: rgba(255,255,255,0.05);\r\n  border-radius: 1rem;\r\n  display: inline-block;\r\n}\r\n\r\n.stats-card.total .stat-value {\r\n  color: var(--accent-color);\r\n}\r\n\r\n.stats-card.online .stat-value {\r\n  color: var(--success-color);\r\n}\r\n\r\n.stats-card.offline .stat-value {\r\n  color: var(--danger-color);\r\n}\r\n\r\n.chart-card {\r\n  background: var(--card-bg) !important;\r\n  border-radius: 1rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.chart-card :deep(.p-card-content) {\r\n  padding: 2rem;\r\n}\r\n\r\n:deep(.p-chart) {\r\n  margin: 0 auto;\r\n}\r\n\r\n.activity-card {\r\n  background: var(--card-bg) !important;\r\n  border-radius: 1rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.activity-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.activity-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  padding: 1rem;\r\n  background: rgba(255,255,255,0.05);\r\n  border-radius: 0.75rem;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.activity-item:hover {\r\n  background: rgba(255,255,255,0.08);\r\n}\r\n\r\n.activity-item i {\r\n  font-size: 1.5rem;\r\n  color: var(--accent-color);\r\n  background: rgba(63, 81, 181, 0.15);\r\n  padding: 0.75rem;\r\n  border-radius: 0.75rem;\r\n}\r\n\r\n.activity-info {\r\n  flex: 1;\r\n}\r\n\r\n.activity-device {\r\n  font-weight: 500;\r\n  color: var(--text-primary);\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.activity-time {\r\n  font-size: 0.875rem;\r\n  color: var(--text-secondary);\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}